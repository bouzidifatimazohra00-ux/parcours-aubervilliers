<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Parcours photographique sensible ‚Äì Aubervilliers</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --bg:#f5f1ea;
  --card:#ffffff;
  --text:#1f2933;
  --muted:#6b7280;
  --accent:#2563eb;
  --border:#e0ded8;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
  padding:2rem 1rem 4rem;
}

.page{max-width:1100px;margin:0 auto}

h1{text-align:center;font-size:2rem}
h2{text-align:center;font-size:1.1rem;color:var(--muted);margin-bottom:2rem}

.intro{
  max-width:760px;
  margin:2rem auto 3rem;
  font-size:1rem;
  color:#374151;
}

.map{
  height:360px;
  border-radius:16px;
  overflow:hidden;
  border:1px solid var(--border);
  margin-bottom:2.5rem;
}

.layout{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:2.5rem;
}

@media(max-width:900px){
  .layout{grid-template-columns:1fr}
}

.timeline{position:relative;padding-left:2.2rem}
.timeline::before{
  content:"";
  position:absolute;
  left:1rem;
  top:0;
  bottom:0;
  width:3px;
  background:linear-gradient(to bottom,var(--accent),#bfdbfe);
  border-radius:99px;
}

.step{margin-bottom:2rem;position:relative}
.marker{
  position:absolute;
  left:-0.1rem;
  top:0.4rem;
  width:1.4rem;
  height:1.4rem;
  border-radius:50%;
  background:var(--bg);
  border:3px solid var(--accent);
  font-size:.75rem;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:1rem;
  box-shadow:0 10px 20px rgba(0,0,0,.06);
}

.photo{
  display:grid;
  grid-template-columns:160px 1fr;
  gap:1rem;
  margin-top:.5rem;
}

.photo img{
  width:100%;
  border-radius:10px;
  object-fit:cover;
}

@media(max-width:600px){
  .photo{grid-template-columns:1fr}
}

.tags{
  display:flex;
  flex-wrap:wrap;
  gap:.4rem;
  margin-bottom:.4rem;
}

.tag{
  background:#dbeafe;
  color:#1e3a8a;
  padding:.15rem .55rem;
  border-radius:999px;
  font-size:.75rem;
  font-weight:500;
}

.intensity{
  font-family:monospace;
  font-size:.75rem;
}

.meta{
  font-size:.82rem;
  color:var(--muted);
}

.side{
  display:flex;
  flex-direction:column;
  gap:1.5rem;
}

canvas{max-height:240px}

footer{
  text-align:center;
  font-size:.75rem;
  color:var(--muted);
  margin-top:3rem;
}
</style>
</head>

<body>
<main class="page">

<h1>Parcours photographique sensible ‚Äì Aubervilliers</h1>
<h2>Marche urbaine, donn√©es et ressentis</h2>

<div class="intro">
Cette visualisation retrace une marche photographique √† Aubervilliers.
Chaque image est associ√©e √† des donn√©es spatiales, temporelles et sensibles.
L‚Äôobjectif est de croiser parcours urbain, forme de l‚Äôimage et exp√©rience v√©cue.
</div>

<div id="map" class="map"></div>

<section class="layout">
<div class="timeline" id="timeline"></div>

<aside class="side">

<div class="card">
<h3>Altitude du parcours</h3>
<canvas id="altitudeChart"></canvas>
</div>

<div class="card">
<h3>Analyse sensible</h3>
<canvas id="radarChart"></canvas>
</div>

<div class="card">
<h3>Formats photographiques</h3>
<canvas id="dimensionChart"></canvas>
<p class="meta">
Les formats varient selon les espaces travers√©s :
les lieux ouverts favorisent des cadrages plus respirants,
tandis que les zones denses contraignent la prise de vue.
</p>
</div>

</aside>
</section>

<footer>Projet de visualisation ‚Äì Master</footer>
</main>

<script>
const points = [
{id:"A",name:"Humath√®que",coords:[48.9129,2.3658],img:"image0 (1).jpeg",time:"11:00",alt:0,emotion:1,espace:"Institutionnel",dim:"1152x2048"},
{id:"B",name:"Supermarch√©",coords:[48.9131,2.3662],img:"IMG_7841.JPG",time:"11:10",alt:0,emotion:2,espace:"Commercial",dim:"1152x2048"},
{id:"C",name:"Passage pi√©ton",coords:[48.9134,2.3668],img:"IMG_7840(2).JPG",time:"11:20",alt:0,emotion:3,espace:"Flux",dim:"1152x2048"},
{id:"D",name:"M√©tro Front Populaire",coords:[48.9149,2.3695],img:"IMG_7839.JPG",time:"11:35",alt:0,emotion:4,espace:"Mobilit√©",dim:"1152x2048"},
{id:"E",name:"Studio 217",coords:[48.9192,2.3751],img:"IMG_7836.JPG",time:"11:50",alt:0,emotion:5,espace:"M√©dia",dim:"1152x2048"},
{id:"F",name:"Jardin",coords:[48.9172,2.3728],img:"IMG_7835.JPG",time:"12:05",alt:0,emotion:1,espace:"Vert",dim:"1152x2048"},
{id:"G",name:"Quartier ancien",coords:[48.9121,2.3821],img:"IMG_6981.jpg",time:"12:25",alt:0,emotion:2,espace:"R√©sidentiel",dim:"1536x2048"},
{id:"H",name:"CIFA",coords:[48.9181,2.3733],img:"IMG_7834.JPG",time:"12:40",alt:0,emotion:4,espace:"Commercial",dim:"1152x2048"}
];

const timeline=document.getElementById("timeline");
timeline.innerHTML=points.map(p=>`
<div class="step">
<div class="marker">${p.id}</div>
<div class="card">
<strong>${p.time} ‚Äì ${p.name}</strong>
<div class="photo">
<img src="${p.img}">
<div>
<div class="tags">
<span class="tag">${p.espace}</span>
<span class="tag intensity">Intensit√© ${"‚ñà".repeat(p.emotion)}${"‚ñë".repeat(5-p.emotion)}</span>
</div>
<div class="meta">üìç ${p.coords[0]}, ${p.coords[1]} ¬∑ üìê ${p.dim}</div>
</div>
</div>
</div>
</div>
`).join("");

const map=L.map("map").setView([48.914,2.372],14);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);
const latlngs=[];
points.forEach(p=>{
latlngs.push(p.coords);
L.circleMarker(p.coords,{radius:6,color:"#2563eb",fillOpacity:.9}).addTo(map);
});
L.polyline(latlngs,{color:"#2563eb",weight:4}).addTo(map);

new Chart(altitudeChart,{
type:"line",
data:{labels:points.map(p=>p.time),
datasets:[{data:points.map(p=>p.alt),fill:true}]}
});

new Chart(radarChart,{
type:"radar",
data:{labels:["Densit√©","Ouverture","Calme","Activit√©"],
datasets:[{data:[4,2,3,5]}]}
});

function parseDim(d){const[x,y]=d.split("x").map(Number);return{x,y}}
const dims=points.map(p=>parseDim(p.dim));
new Chart(dimensionChart,{
type:"bar",
data:{labels:points.map(p=>p.id),
datasets:[
{label:"Largeur",data:dims.map(d=>d.x)},
{label:"Hauteur",data:dims.map(d=>d.y)}
]}
});
</script>
</body>
</html>
